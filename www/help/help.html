<!DOCTYPE HTML>

<div class="container col-xxl-6 px-4 pt-1 mb-auto">
  <div class="row flex-lg-row align-items-center pt-5 pb-2">

    <h1 class="display-3 fw-bold text-body-emphasis lh-1 mb-3">Help for ABCindex</h1>
    <p class="lead">
      The first section covers the use of the app. Click
      <a href="#anchor-calc">here</a> to jump to the next section, which details
      the calculation of the ABCI values.
    </p>

    <h1 id="anchor-howto">How to use ABCindex</h1>
    <p class="lead">
      Interpretation and visualization of checkerboard assays.
    </p>

    <h3>1. Prepare your data</h3>
    <p>
      ABCindex takes any form of checkerboard assay data (e.g. crystal
      violet or TTC) in the same format produced by microplate readers. Data can
      be provided as direct measurements (absorbance, fluorescence) or relative
      measurements (percentage of untreated or relative to an external control).
      ABCI was designed for antibiofilm activity data but can be used for any
      kind of checkerboard assays, including planktonic experiments (see the
      <a href="#anchor-calc">ABCI calculations</a> tutorial for more
      information).
    </p>
    <p>
      We provide input templates in .xslx or .ods  format. The only necessary
      preprocessing step is <b>blank subtraction</b>: if it has not been
      performed by the microplate reader software, please subtract the blank before
      uploading your data.
    </p>
    <p>
      You can upload different <b>experiments</b> as sheets in the input file;
      they will become different panels in the final graph. Each experiment can
      have any number of <b>replicates</b>, which must be provided as individual
      tables within the same sheet separated by at least one blank row. Not all
      treatment concentrations need to be represented in every replicate.
    </p>
    <p>
      Data must include untreated wells (concentration = 0). Do not include in
      the input any wells that are not intended to be plotted in the final
      graph (e.g. blank wells or external controls).
    </p>
    <img src="help/input_template.png" alt="Input template" class="center img-fluid" style="width:75%">

    <h3 class="mt-4">2. Upload and analyze your data</h3>
    <p>
      Click <b>"Upload plate data"</b> and select an .xlsx or .ods file
      formatted as detailed above. An input preview will appear to the right of
      the screen detailing the treatment in the rows and columns of each of your
      experiments, as well as the different concentrations included. Make sure
      everything looks OK and click "Perform ABCI calculations". If the
      preview does not reflect your intended input, the most likely reason is a
      mistake in the input file; try downloading the template and copying and
      pasting your data onto it.
    </p>
    <img src="help/input_preview.png" alt="Input preview" class="center img-fluid">
    <p class="mt-4">
      After clicking "Perform ABCI calculations", a dialogue window will appear
      with two options for data normalization. By default, ABCindex will assume
      your data is direct observations (e.g., absorbance units or relative
      fluorescence units) and convert them into percentages relative to the
      average of the untreated wells (both concentrations equal to zero). This
      is the <b>"Normalize my data"</b> option. If you have already converted
      your data to percentages (for example, to make them relative to a growth
      control consisting of multiple wells per plate), select <b>"My data is
      already normalized"</b> instead.
    </p>
    <p>
      Once you have made the appropriate selection, click "Calculate ABCI
      values", which will perform the analysis and take you to the "Results"
      tab.
    </p>

    <h3 class="mt-4">3. Create plots from your results</h3>
    <p>ABCindex lets you visualize two types of information:</p>
    <ul>
      <li>
        <b>Drug interaction (Anti-Biofilm Combination Index)</b>. Positive
        values indicate a drug combination that presents higher antimicrobial
        activity at the given concentrations than any of the individual drugs
        on their own (additive or synergistic behaviour). Negative values
        indicate a combination with worse activity than at least the best of the
        individual drugs (antagonism). See the
        <a href="#anchor-calc">ABCI calculations</a> tutorial for more
        information.
      </li>
      <li>
        <b>Antimicrobial activity (percentage of biomass killed)</b>. Depending
        on the type of experiment, this may have different biological
        interpretations, such as biofilm inhibition or biofilm eradication.
      </li>
    </ul>
    <p>
      The recommended plot for ABCindex results is the <b>dot plot</b>, which
      depicts both ABCI values (as colours) and antimicrobial activity (as dot
      sizes). You can also use <b>tile plots</b> to represent only ABCIs; in
      that case, we recommend choosing the drug concentrations you are most
      interested in and representing their antimicrobial activity in a <b>line
      plot</b>. Dot and tile plots are available in <b>split</b> versions that
      separate the positive and negative ABCI values into two different plots
      for visual simplicity.
    </p>
    <img src="help/plot_examples.png" alt="Plot examples" class="center img-fluid" style="width:75%">
    <p>
      Choose the type of plot you want and click <b>"Create or update the
      plot"</b>. You can use the options below to modify the plot and click
      "Create or update the plot" again to confirm the changes. Hover over an
      inputs' name to see an explanatory tooltip.
    </p>
    <p>
      At the bottom of the sidebar there are buttons to <b>"Download a results
      spreadsheet"</b> for your ABCI results (as an XLSX file), or <b>"Download
      the plot"</b> currently displayed plot as a PNG, SVG, or TIFF image file.
    </p>
    <p>
      Additional buttons can be used to <b>"Restore defaults"</b>,resetting all
      the  plot inputs to their original state, or to <b>"Analyze a new data
      set"</b>. Note that the latter option will cause all results and plots to
      be lost, so be sure to save anything you want to keep first!
    </p>

    <h3 class="mt-4">Learn more</h3>
    <div class="accordion" id="accordion1" style="margin-bottom:3rem">
      <div class="accordion-item">
        <h2 class="accordion-header">
          <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#a1_c1" aria-expanded="false" aria-controls="a1_c1">
            Choose the right colour palette
          </button>
        </h2>
        <div id="a1_c1" class="accordion-collapse collapse" data-bs-parent="#accordion1">
          <div class="accordion-body">
            <p>
              ABCindex represents ABCI values using continuous non-linear
              palettes designed to highlight the most biologically relevant
              differences. Negative ABCIs are represented with little colour
              variation, as any drug interaction with less antimicrobial
              activity than the individual drugs already indicates of
              antagonistic behaviour.
            </p>
            <p>
              Default ABCindex palettes (A) provide a colour gradient for
              positive ABCIs with a contrasting colour for low positives to
              improve the discoverability of positive interactions that fall
              short of formal synergy. Accentuate high ABCI  palettes (B) move
              the contrasting colour to ABCI > 1.0 combinations to attract more
              attention to synergistic behaviour. Positive/negative ABCI
              palettes (C) remove contrasting colours to depict only whether
              drug interactions are positive or negative.
            </p>
            <p>
              <b>We are colourblind friendly</b>. All ABCindex palettes are
              designed, to the best of our knowledge, to be accessible for
              people with protanopia, deuteranopia, or tritanopia.
            </p>
            <img src="img/colours_abci.svg" alt="ABCI palettes" class="center img-fluid" style="width:50%">
          </div>
        </div>
      </div>

      <div class="accordion-item">
        <h2 class="accordion-header">
          <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#a1_c2" aria-expanded="false" aria-controls="a1_c2">
            Split positive and negative ABCI values
          </button>
        </h2>
        <div id="a1_c2" class="accordion-collapse collapse" data-bs-parent="#accordion1">
          <div class="accordion-body">
            <p>
              In case you want to focus exclusively on positive or negative
              drug interactions, we offer "split" tile and dot plots, which
              separate the positive and negative ABCI values into two different
              plots.
            </p>
            <p>
              The <b>"filter stringency"</b> option, available in the advanced
              options box exclusively for split plots, lets you choose the
              behaviour of split plots towards indifferent drug interactions
              (ABCI value close to 0). Choose "loose" to display those values on
              both plots or "strict" to hide them.
            </p>
          </div>
        </div>
      </div>

      <div class="accordion-item">
        <h2 class="accordion-header">
          <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#a1_c3" aria-expanded="false" aria-controls="a1_c3">
            Display activity thresholds
          </button>
        </h2>
        <div id="a1_c3" class="accordion-collapse collapse" data-bs-parent="#accordion1">
          <div class="accordion-body">
            <p>
              As a visual aid to interpret drug interaction data, you can plot
              lines indicating thresholds of antimicrobial activity for the
              individual drugs (e.g., MIC, MBIC, MBEC). To activate this option,
              check one or both of the boxes for <b>"Draw activity threshold"</b>.
              The target killing percentage can be modified in the advanced
              options box; the default value is 0.5 (50% killing, e.g.
              MIC<sub>50</sub>).
            </p>
            <p>
              Antimicrobial activity thresholds are provided exclusively as
              visual indicators and are not used for calculations. When enabling
              them, a warning may appear describing as issue with the activity
              threshold calculation. This can indicate one of a few things:
            </p>
            <ul>
              <li>
                There was disagreement among replicates about the theshold
                concentraion. In the case of two replicates disagreeing, the
                lower concentration is used. For three or more, a single mode is
                utiliized.
              </li>
              <li>
                For one or more replicates, no tested concentrations reached the
                specified threshold.
              </li>
              <li>
                The activity threhold could not be determined, either because no
                concentrations reached the specified value, or there was no
                agreement between any replicates (e.g. each of three replicates
                returned a different result).
              </li>
            </ul>
            <p>
              Any of these scenarios will result in the same warning, which will
              name the problematic experiment(s).
            </p>
          </div>
        </div>
      </div>

      <div class="accordion-item">
        <h2 class="accordion-header">
          <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#a1_c4" aria-expanded="false" aria-controls="a1_c4">
            Make readable line plots
          </button>
        </h2>
        <div id="a1_c4" class="accordion-collapse collapse" data-bs-parent="#accordion1">
          <div class="accordion-body">
            <p>
              Line plots are simple representations of the antimicrobial
              activity of your drug combinations. Given the number of
              concentrations often evaluated in checkerboard assays, full line
              plots of all your data may be hard to read. We recommend first
              using ABCI plots to identify the most relevant concentrations and
              represent only those in the line plot.
            </p>
            <p>
              By default, ABCindex's line plots gently nudge some values along
              the X axis to prevent overlapping lines. This can be disabled by
              toggling off the "X axis jitter" in the advanced options box.
            </p>
          </div>
        </div>
      </div>
    </div>


    <br>
    <hr>


    <h1 class="mt-3" id="anchor-calc">ABCI calculations</h1>
    <p class="lead">
      Information about the Anti-Biofilm Combination Index and how ABCindex
      calculates and plots the data.
    </p>

    <h3>Rationale behind ABCindex</h3>
    <p>
      ABCindex aims to overcome the main challenges presented when evaluating
      antibiofilm combination therapies and, in more general terms, provide a
      way to quantify the impact of combining antimicrobials, focused on
      therapeutic decisions rather than mechanistic concerns. While the analysis
      methodology and scoring system ABCindex uses can be applied to any kind of
      multidose drug combination assay, the Anti-Biofilm Combination Index
      (ABCI) is principally designed to deal with biofilm inhibition and
      biofilm eradication experiments.
    </p>
    <p>
      In checkerboard assays, the impact of drug combinations is traditionally
      described using fractional inhibitory concentrations (FIC). FICs are
      determined by calculating the minimum inhibitory concentration (MIC) for
      individual drugs and their combinations at a given killing threshold and
      then determining the relative change in MIC the combinations represent. An
      overall 4-fold reduction or higher results in an FIC of 0.5 or lower, and
      is described as “synergy”. A 4-fold increase results in an FIC of 4.0 or
      higher and is described as “antagonism”.
    </p>
    <p>
      While FICs have been successfully used for half a century to summarize the
      effects of combining traditional antibiotics, any metric that relies on
      activity thresholds becomes inaccurate when the dose-response curve of the
      drugs studied differs significantly from the typical growth/no growth
      curve observed when killing planktonic cells with traditional antibiotics.
      Antibiofilm drugs often present unusual dose-response curves, featuring
      gradual biofilm reduction across a wide range of concentrations,
      incomplete biofilm elimination even at the highest dose assayed, and
      subinhibitory biofilm stimulation peaks. As an example, the experiment
      below (Haney et al., <a href='https://doi.org/10.3390/biom8020029'
      target='_blank' rel='noreferrer noopener'>
        https://doi.org/10.3390/biom8020029</a>) illustrates
      these phenomena in the dose-response curves of commonly used antibiotics
      against <i>Pseudomonas aeruginosa</i> PAO1 in both biofilm inhibition
      (top) and biofilm eradication assays (bottom).
    </p>
    <img src="help/haney_figure.png" alt="Haney et al." class="center img-fluid" style="width:75%">
    <p>
      ABCI is a simple metric designed to accurately describe the effects of
      drug combinations even when they present unusual dose-response curves.
      Additionally, ABCI values are intended to accurately represent the most
      fundamental decision behind combination therapies: how much can be gained
      by combining two drugs compared to using the best individual drug on its
      own. Finally, as checkerboard assays produce results that depend on two
      variables, resulting in hard-to-visualize information that is often
      published as lengthy tables or 3D graphs, the ABCindex app not only
      calculates ABCI values but also summarizes all of the information obtained
      in simple and visually appealing graphs designed to quickly identify
      promising interactions and favourable drug ratios.
    </p>

    <h3 class="mt-4">Anti-Biofilm Combination Index</h3>
    <p>
      The Anti-Biofilm Combination Index (ABCI) is calculated for each specific
      combination of drug concentrations (i.e., each well on a 96-well plate).
      It is designed to assess drug combination therapy without relying on
      antimicrobial activity thresholds (e.g., MIC), focusing on the most
      important difference when making therapy decisions: is the drug
      combination better than using the best individual drug on its own?
    </p>
    <p>
      ABCI is defined as the difference between the percentage of biomass
      killed by the drug combination and the percentage killed by the best of
      the individual drugs, divided by the combined effects of the two
      individual drugs. It can be calculated as follows:
    </p>
    <img src="help/abci_formula.png" alt="ABCI formula" class="center img-fluid" style="width:75%">
    <p>The resulting ABCI value can then be interpreted as follows:</p>
    <ul>
      <li>
        A positive ABCI indicates that the drug combination presents higher
        activity than any of the individual drugs (<b>additive or synergistic
        behaviour</b>). Higher ABCI values indicate a more significant gain in
        antimicrobial activity relative to the combined effects of the
        individual drugs.
      </li>
      <li>
        An ABCI of zero indicates that the drug combination presents the same
        activity as at least the best of the individual drugs (<b>indifferent
        behaviour</b>).
      </li>
      <li>
        A negative ABCI indicates that the drug combination presents lower
        activity than at least the best of the individual drugs (<b>antagonistic
        behaviour</b>). Lower ABCI values indicate a more significant loss in
        antimicrobial activity relative to the combined effects of the
        individual drugs.
      </li>
    </ul>
    <p>
      The following table illustrates possible ABCI values and their
      interpretation depending on the combined effects of two drugs A and B:
    </p>


    <table class="table table-bordered">
      <thead>
        <tr class="table-dark">
          <th scope="col">Killing for Drug A</th>
          <th scope="col">Killing for Drug B</th>
          <th scope="col">Combined Killing</th>
          <th scope="col">Interaction Type</th>
          <th scope="col">ABCI Value</th>
        </tr>
      </thead>
      <tr class="table-primary">
        <td>30%</td>
        <td>30%</td>
        <td>100%</td>
        <td>Synergistic</td>
        <td>2.33</td>
      </tr>
      <tr class="table-primary">
        <td>40%</td>
        <td>40%</td>
        <td>80%</td>
        <td>Perfectly additive</td>
        <td>1.00</td>
      </tr>
      <tr class="table-info">
        <td>50%</td>
        <td>50%</td>
        <td>90%</td>
        <td>Imperfectly additive</td>
        <td>0.80</td>
      </tr>
      <tr>
        <td>70%</td>
        <td>70%</td>
        <td>70%</td>
        <td>Indifferent</td>
        <td>0.00</td>
      </tr>
      <tr class="table-danger">
        <td>20%</td>
        <td>90%</td>
        <td>80%</td>
        <td>Antagonistic</td>
        <td>-0.18</td>
      </tr>
      <tr class="table-danger">
        <td>70%</td>
        <td>70%</td>
        <td>50%</td>
        <td>Antagonistic</td>
        <td>-0.29</td>
      </tr>
    </table>

    <h3 class="mt-4">Data processing in ABCindex</h3>
    <p>
      Checkerboard data uploaded to ABCindex goes through the following steps:
    </p>
    <ul>
      <li>
        If the data is being normalized, calculate the baseline value, where the
        concentration of both drugs is 0, and divide every other value by that
        number. Then for each well, calculate the effect by subtracting it from
        1. Negative values are set always to 0.
      </li>
      <li>
        If normalization is not specified, calculate the effect by subtracting
        each well from the previously defined baseline value, again not allowing
        for negative results.
      </li>
      <li>
        Then, find the "reference" value for each drug concentration, defined as
        the average effect when the other drug is at 0.
      </li>
      <li>
        All the above information is then entered into the ABCI formula to
        calculate a result.
      </li>
    </ul>
    <p>
      The effect (i.e. percentage of biomass reduction) and ABCI values are
      averaged across replicates; this is what's shown in the plots, and
      downloaded in the results spreadsheets.
    </p>

    <h3 class="mt-4">Learn more</h3>

    <div class="accordion" id="accordion2">
      <div class="accordion-item">
        <h2 class="accordion-header">
          <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#a2_c1" aria-expanded="false" aria-controls="a2_c1">
            <p class="mb-0">Generalized ABCI for <i>n</i> drugs</p>
          </button>
        </h2>
        <div id="a2_c1" class="accordion-collapse collapse" data-bs-parent="#accordion2">
          <div class="accordion-body">
            <p>
              While ShinyABCi is designed to analyze checkerboard data and thus
              can only support combinations of two treatments, the Anti-Biofilm
              Combination Index can be generalized to the combination of
              <i>n</i> drugs as follows:
            </p>
            <img src="help/abci_formula_general.png" alt="Generalized ABCI formula" class="center img-fluid" style="width:75%">
          </div>
        </div>
      </div>

      <div class="accordion-item">
        <h2 class="accordion-header">
          <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#a2_c2" aria-expanded="false" aria-controls="a2_c2">
            Dot size scaling in ABCindex plots
          </button>
        </h2>
        <div id="a2_c2" class="accordion-collapse collapse" data-bs-parent="#accordion2">
          <div class="accordion-body">
            <p>
              By default, ABCindex's dot plots represent antimicrobial activity
              (percentage of biomass killed) using a continuous non-linear scale
              designed to highlight the most biologically relevant differences.
              More specifically, while preserving some degree of granularity all
              across the scale, our plots are designed to maximize the size
              difference between ±50% killing (often considered the threshold
              between "active" and "inactive") and the difference between ±85%
              killing. We consider that last difference to be of the utmost
              importance, given that ABCindex is primarily intended for
              antibiofilm assays, in which complete eradication is often hard to
              achieve and one of the main reasons to attempt combination
              therapies. Non-linear scaling can be disabled by toggling "Linear
              size scaling" in the advanced plot options.
            </p>
            <p>
              Below, you can see the exact relationship between the percentage
              of biofilm killed and the default dot size used by ABCindex.
            </p>
            <img src="help/dot_size_scaling.png" alt="Dot size scaling" class="center img-fluid" style="width:50%">
          </div>
        </div>
      </div>
    </div>

  </div>
</div>
